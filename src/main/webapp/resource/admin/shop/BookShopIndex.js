webpackJsonp([5],{29:function(t,e,a){"use strict";function d(t){if(void 0===t)return"-";switch(t){case 0:return"已预定";case 1:return"已服务";case 2:return"已关闭";default:return"-"}}function o(t){if(void 0===t)return"-";switch(t){case 0:return"未授权";case 1:return"已授权";case 2:return"已取消";default:return"-"}}function u(t,e){var a="YYYY年MM月DD日";return void 0===t?"-":(void 0!==e&&(a=e),n(t).format(a))}function i(t,e){return void 0===t||void 0===e?"-":(e-t)/1e3}Object.defineProperty(e,"__esModule",{value:!0}),e.convertOrderStatus=d,e.convertAuthStatus=o,e.formatTime=u,e.convertExtTableMileage=i;var n=a(13)},580:function(t,e,a){"use strict";function d(t){return t&&t.__esModule?t:{default:t}}var o=a(14),u=d(o),i=a(1),n=d(i),r=a(3),s=d(r),l=a(2),h=d(l),p=a(0),f=(d(p),a(9)),c=d(f),v=a(26),y=d(v);a(27);var m=a(11),S=a(22),C=a(29),g=m.Form.Item,k=(m.Modal.confirm,m.Select.Option),w=S.RJAreaCascader.resetAreaCascader,b=m.DatePicker.RangePicker,I=(a(13),(0,u.default)(k,{},null,"全部")),Y=(0,u.default)(k,{},"0","未授权"),q=(0,u.default)(k,{},"1","已授权"),A=(0,u.default)(k,{},"2","已取消"),x=(0,u.default)("a",{},void 0,"授权"),P=(0,u.default)("a",{},void 0,"取消"),M=(0,u.default)("h1",{},void 0,"宽带预定-店铺管理"),D=(0,u.default)(g,{},void 0,(0,u.default)(m.Button,{type:"primary"},void 0,(0,u.default)("a",{target:"_blank",href:"/admin/shop/addBookShop.html"},void 0,"新建"))),N=function(t){function e(){(0,n.default)(this,e);var a=(0,s.default)(this,t.call(this));return a.hanldeTableChange=function(t){a.state.pageSize=t.pageSize,a.state.page=t.current,a.getList()},a.handSubmit=function(t){a.props.form.validateFieldsAndScroll(function(t,e){if(!t){var d=a.props.form.getFieldsValue(),o=d.dateCreate;null!=o&&(a.state.query.dateCreateStart=o[0].format("YYYY-MM-DD"),a.state.query.dateCreateEnd=o[1].format("YYYY-MM-DD")),a.state.query.id=d.id,a.state.query.shopCode=d.shopCode,a.state.query.shopName=d.shopName,a.state.query.shopPhone=d.shopPhone,a.state.query.authStatus=d.authStatus,a.state.page=1,a.getList()}})},a.handleReset=function(){a.setState({query:{}}),w(),a.props.form.resetFields()},a.handleAuth=function(t){a.state.query.id=t,a.state.query.authStatus=1,a.handleAuthStatus().then(function(t){t.success&&a.getList()})},a.handleCancel=function(t){a.state.query.id=t,a.state.query.authStatus=2,a.handleAuthStatus().then(function(t){t.success&&a.getList()})},a.state={query:{}},a}return(0,h.default)(e,t),e.prototype.setInitProps=function(){t.prototype.setInitProps.call(this)},e.prototype.getFields=function(){var t=this.props.form.getFieldDecorator,e=[];return e.push((0,u.default)(m.Col,{span:6},"shopCode",(0,u.default)(g,{label:"店铺编码"},void 0,t("shopCode",{})((0,u.default)(m.Input,{style:{width:200},placeholder:"店铺编码"}))))),e.push((0,u.default)(m.Col,{span:6},"shopPhone",(0,u.default)(g,{label:"店铺手机"},void 0,t("shopPhone",{})((0,u.default)(m.Input,{style:{width:200},placeholder:"店铺手机"}))))),e.push((0,u.default)(m.Col,{span:6},"shopName",(0,u.default)(g,{label:"店铺名称"},void 0,t("buyerName",{})((0,u.default)(m.Input,{style:{width:200},placeholder:"店铺名称"}))))),e.push((0,u.default)(m.Col,{span:6},"authStatus",(0,u.default)(g,{label:"授权状态"},void 0,t("authStatus",{})((0,u.default)(m.Select,{style:{width:200},placeholder:"授权状态"},void 0,I,Y,q,A))))),e.push((0,u.default)(m.Col,{span:6},"dateCreate",(0,u.default)(g,{label:"创建时间"},void 0,t("dateCreate")((0,u.default)(b,{style:{width:200},format:"YYYY-MM-DD"}))))),e},e.prototype.render=function(){var t=this,e=(this.props.form.getFieldDecorator,null);this.props._this&&this.props._this,this.state.list&&(e={size:"small",total:this.state.list.totalNumber,current:this.state.list.currentIndex,pageSize:this.state.list.pageSize,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["5","10"],onShowSizeChange:function(t,e){},onChange:function(t,e){},showTotal:function(t){return"共"+t+"条"}});var a=[{title:"店铺编号",dataIndex:"id",key:"id",display:!1},{title:"店铺名称",dataIndex:"shopName",key:"shopName",display:!1},{title:"店铺地址",dataIndex:"shopAddress",key:"shopAddress",display:!1},{title:"店铺老板名字",dataIndex:"shopOwnerName",key:"shopOwnerName",display:!1},{title:"店铺老板电话",dataIndex:"shopPhone",key:"shopPhone",display:!1},{title:"授权状态",dataIndex:"authStatus",key:"authStatus",display:!1,render:function(t,e){return(0,C.convertAuthStatus)(e.authStatus)}},{title:"创建时间",dataIndex:"dateCreate",key:"dateCreate",display:!1},{title:"修改时间",dataIndex:"dateUpdate",key:"dateUpdate"},{title:"备注",dataIndex:"remarks",key:"remarks"},{title:"操作",dataIndex:"option",width:100,key:"option",render:function(e,a){var d=(0,u.default)(m.Popconfirm,{title:"确定吗?",onConfirm:function(){return t.handleAuth(a.id)}},void 0,x),o=(0,u.default)(m.Popconfirm,{title:"确定吗?",onConfirm:function(){return t.handleCancel(a.id)}},void 0,P),i=new Array;return 0!=a.authStatus&&2!=a.authStatus||i.push(d),1==a.authStatus&&i.push(o),(0,u.default)("div",{},void 0,i)}}];return this.stateAlready?(0,u.default)("div",{},void 0,M,(0,u.default)(m.Form,{layout:"inline",className:"ant-advanced-search-form"},void 0,(0,u.default)(m.Row,{gutter:24},void 0,this.getFields()),(0,u.default)(m.Row,{},void 0,(0,u.default)(m.Col,{span:24,style:{textAlign:"right"}},void 0,(0,u.default)(g,{},void 0,(0,u.default)(m.Button,{type:"primary",onClick:this.handSubmit},void 0,"搜索")),(0,u.default)(g,{},void 0,(0,u.default)(m.Button,{type:"primary",onClick:this.handleReset},void 0,"清除")),D))),(0,u.default)("div",{},void 0,(0,u.default)("div",{className:"table-content"},void 0,(0,u.default)(m.Table,{columns:a,dataSource:this.state.list.items,rowKey:"qaId",pagination:e,onChange:this.hanldeTableChange,bordered:!0},"shopCode")))):null},e}(y.default);N=m.Form.create()(N),c.default.render((0,u.default)("div",{},void 0,(0,u.default)(N,{})),document.querySelector("#content"))}},[580]);