webpackJsonp([6],{29:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.convertOrderStatus = convertOrderStatus;\nexports.convertAuthStatus = convertAuthStatus;\nexports.formatTime = formatTime;\nexports.convertExtTableMileage = convertExtTableMileage;\nvar moment = __webpack_require__(13);\n\n// 订单状态\nfunction convertOrderStatus(status) {\n    if (typeof status == 'undefined') {\n        return '-';\n    }\n    switch (status) {\n        case 0:\n            return '已预定';\n        case 1:\n            return '已服务';\n        case 2:\n            return '已关闭';\n        default:\n            return '-';\n    }\n}\n// 授权状态\nfunction convertAuthStatus(status) {\n    if (typeof status == 'undefined') {\n        return '-';\n    }\n    switch (status) {\n        case 0:\n            return '未授权';\n        case 1:\n            return '已授权';\n        case 2:\n            return '已取消';\n        default:\n            return '-';\n    }\n}\n\n// 时间格式化\nfunction formatTime(time, pattern) {\n    var style = 'YYYY年MM月DD日';\n    if (typeof time == 'undefined') {\n        return '-';\n    }\n    if (typeof pattern != 'undefined') {\n        style = pattern;\n    }\n    return moment(time).format(style);\n}\n\n// 延保生效里程\nfunction convertExtTableMileage(start, end) {\n    if (typeof start == 'undefined' || typeof end == 'undefined') {\n        return '-';\n    }\n    return (end - start) / 1000;\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/utils/utils.js\n// module id = 29\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///./pages/utils/utils.js?")},578:function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _jsx2 = __webpack_require__(14);\n\nvar _jsx3 = _interopRequireDefault(_jsx2);\n\nvar _classCallCheck2 = __webpack_require__(1);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(3);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(2);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(9);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _sad = __webpack_require__(26);\n\nvar _sad2 = _interopRequireDefault(_sad);\n\n__webpack_require__(27);\n\nvar _antd = __webpack_require__(11);\n\nvar _RJAntd = __webpack_require__(22);\n\nvar _utils = __webpack_require__(29);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * 这里声明要引入的组件\n */\nvar FormItem = _antd.Form.Item;\nvar confirm = _antd.Modal.confirm;\nvar Option = _antd.Select.Option;\n\n\nvar resetAreaCascader = _RJAntd.RJAreaCascader.resetAreaCascader;\n\nvar RangePicker = _antd.DatePicker.RangePicker;\n\n\nvar moment = __webpack_require__(13);\n\n/**\n * 订单管理\n */\n\nvar _ref = (0, _jsx3.default)(Option, {}, null, '\\u5168\\u90E8');\n\nvar _ref2 = (0, _jsx3.default)(Option, {}, '0', '\\u5DF2\\u9884\\u5B9A');\n\nvar _ref3 = (0, _jsx3.default)(Option, {}, '1', '\\u5DF2\\u670D\\u52A1');\n\nvar _ref4 = (0, _jsx3.default)(Option, {}, '2', '\\u5DF2\\u5173\\u95ED');\n\nvar _ref5 = (0, _jsx3.default)('a', {}, void 0, '\\u5DF2\\u5B89\\u88C5 ');\n\nvar _ref6 = (0, _jsx3.default)('a', {}, void 0, '\\u53D6\\u6D88');\n\nvar _ref7 = (0, _jsx3.default)('h1', {}, void 0, '\\u5BBD\\u5E26\\u9884\\u5B9A-\\u8BA2\\u5355\\u7BA1\\u7406');\n\nvar _ref8 = (0, _jsx3.default)(FormItem, {}, void 0, (0, _jsx3.default)(_antd.Button, {\n    type: 'primary'\n}, void 0, (0, _jsx3.default)('a', {\n    target: '_blank',\n    href: '/admin/order/addBookOrder.html'\n}, void 0, '\\u65B0\\u5EFA')));\n\nvar BookOrderIndex = function (_SADPage) {\n    (0, _inherits3.default)(BookOrderIndex, _SADPage);\n\n    function BookOrderIndex() {\n        (0, _classCallCheck3.default)(this, BookOrderIndex);\n\n        var _this2 = (0, _possibleConstructorReturn3.default)(this, _SADPage.call(this));\n\n        _this2.hanldeTableChange = function (pagination) {\n            _this2.state.pageSize = pagination.pageSize;\n            _this2.state.page = pagination.current;\n            _this2.getList();\n        };\n\n        _this2.handSubmit = function (e) {\n            _this2.props.form.validateFieldsAndScroll(function (errors, values) {\n                if (!!errors) {\n                    return;\n                }\n                var query = _this2.props.form.getFieldsValue();\n                var dateCreate = query.dateCreate;\n                if (dateCreate != null) {\n                    _this2.state.query.dateCreateStart = dateCreate[0].format('YYYY-MM-DD');\n                    _this2.state.query.dateCreateEnd = dateCreate[1].format('YYYY-MM-DD');\n                }\n                var bookTime = query.bookTime;\n                if (bookTime != null) {\n                    _this2.state.query.bookTimeStart = bookTime[0].format('YYYY-MM-DD');\n                    _this2.state.query.bookTimeEnd = bookTime[1].format('YYYY-MM-DD');\n                }\n\n                _this2.state.query.id = query.id;\n                _this2.state.query.shopCode = query.shopCode;\n                _this2.state.query.buyerName = query.buyerName;\n                _this2.state.query.buyerPhone = query.buyerPhone;\n                _this2.state.query.orderStatus = query.orderStatus;\n                _this2.state.page = 1;\n                _this2.getList();\n            });\n        };\n\n        _this2.handleReset = function () {\n            _this2.setState({ query: {} });\n            resetAreaCascader();\n            _this2.props.form.resetFields();\n        };\n\n        _this2.handleInstall = function (data) {\n            _this2.state.query.id = data;\n            _this2.state.query.orderStatus = 1;\n            _this2.handleOrderStatus().then(function (data) {\n                if (data.success) {\n                    _this2.getList();\n                }\n            });\n        };\n\n        _this2.handleCancel = function (data) {\n            _this2.state.query.id = data;\n            _this2.state.query.orderStatus = 2;\n            _this2.handleOrderStatus().then(function (data) {\n                if (data.success) {\n                    _this2.getList();\n                }\n            });\n        };\n\n        _this2.state = {\n            orderCustomerInfoData: {},\n            orderInfo: {},\n            query: {\n                //authorization:2\n            },\n            editCustVisible: false\n        };\n        return _this2;\n    }\n\n    BookOrderIndex.prototype.setInitProps = function setInitProps() {\n        _SADPage.prototype.setInitProps.call(this);\n    };\n    /**\n     * 切换分页\n     * @param pagination\n     */\n\n    /**\n     * 搜索查询\n     * @param e\n     */\n\n\n    /**\n     * 清除查询条件\n     */\n\n\n    // To generate mock Form.Item\n    BookOrderIndex.prototype.getFields = function getFields() {\n        var getFieldDecorator = this.props.form.getFieldDecorator;\n\n        var children = [];\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'shopCode', (0, _jsx3.default)(FormItem, {\n            label: '\\u5E97\\u94FA\\u7F16\\u7801'\n        }, void 0, getFieldDecorator('shopCode', {})((0, _jsx3.default)(_antd.Input, {\n            style: { width: 200 },\n            placeholder: '\\u5E97\\u94FA\\u7F16\\u7801'\n        })))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'buyerPhone', (0, _jsx3.default)(FormItem, {\n            label: '\\u5BA2\\u6237\\u624B\\u673A'\n        }, void 0, getFieldDecorator('buyerPhone', {})((0, _jsx3.default)(_antd.Input, {\n            style: { width: 200 },\n            placeholder: '\\u5BA2\\u6237\\u624B\\u673A'\n        })))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'buyerName', (0, _jsx3.default)(FormItem, {\n            label: '\\u5BA2\\u6237\\u59D3\\u540D'\n        }, void 0, getFieldDecorator('buyerName', {})((0, _jsx3.default)(_antd.Input, {\n            style: { width: 200 },\n            placeholder: '\\u5BA2\\u6237\\u59D3\\u540D'\n        })))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'id', (0, _jsx3.default)(FormItem, {\n            label: '\\u8BA2\\u5355\\u7F16\\u53F7'\n        }, void 0, getFieldDecorator('id', {})((0, _jsx3.default)(_antd.Input, {\n            style: { width: 200 },\n            placeholder: '\\u8BA2\\u5355\\u7F16\\u53F7'\n        })))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'orderStatus', (0, _jsx3.default)(FormItem, {\n            label: '\\u8BA2\\u5355\\u72B6\\u6001'\n        }, void 0, getFieldDecorator('orderStatus', {})((0, _jsx3.default)(_antd.Select, {\n            style: { width: 200 },\n            placeholder: '\\u8BA2\\u5355\\u72B6\\u6001'\n        }, void 0, _ref, _ref2, _ref3, _ref4)))));\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'dateCreate', (0, _jsx3.default)(FormItem, {\n            label: '\\u521B\\u5EFA\\u65F6\\u95F4'\n        }, void 0, getFieldDecorator('dateCreate')((0, _jsx3.default)(RangePicker, {\n            style: { width: 200 },\n            format: 'YYYY-MM-DD'\n        })))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'bookTime', (0, _jsx3.default)(FormItem, {\n            label: '\\u9884\\u5B9A\\u65F6\\u95F4'\n        }, void 0, getFieldDecorator('bookTime')((0, _jsx3.default)(RangePicker, {\n            style: { width: 200 },\n            format: 'YYYY-MM-DD'\n        })))));\n\n        return children;\n    };\n\n    /**\n     *\n     * @returns {*}\n     */\n\n\n    BookOrderIndex.prototype.render = function render() {\n        var _this3 = this;\n\n        var getFieldDecorator = this.props.form.getFieldDecorator;\n\n        var pagination = null;\n        var _this = null;\n        if (this.props._this) {\n            _this = this.props._this;\n        }\n        if (this.state.list) {\n            pagination = {\n                size: 'small',\n                total: this.state.list.totalNumber,\n                current: this.state.list.currentIndex,\n                pageSize: this.state.list.pageSize,\n                showSizeChanger: true,\n                showQuickJumper: true,\n                pageSizeOptions: ['5', '10'],\n                onShowSizeChange: function onShowSizeChange(current, pageSize) {},\n                onChange: function onChange(current, pageSize) {},\n                showTotal: function showTotal(total) {\n                    return '共' + total + '条';\n                }\n            };\n        }\n\n        var columns = [{\n            title: '订单编号',\n            dataIndex: 'id',\n            key: 'id',\n            display: false\n        }, {\n            title: '买家姓名',\n            dataIndex: 'buyerName',\n            key: 'buyerName',\n            display: false\n        }, {\n            title: '买家电话',\n            dataIndex: 'buyerPhone',\n            key: 'buyerPhone',\n            display: false\n        }, {\n            title: '预定时间',\n            dataIndex: 'bookTime',\n            key: 'bookTime',\n            display: false\n        }, {\n            title: '产品名称',\n            dataIndex: 'productName',\n            key: 'productName',\n            display: false\n        }, {\n            title: '产品价格',\n            dataIndex: 'productPrice',\n            key: 'productPrice',\n            display: false\n        }, {\n            title: '订单状态',\n            dataIndex: 'orderStatus',\n            key: 'orderStatus',\n            display: false,\n            render: function render(text, record) {\n                return (0, _utils.convertOrderStatus)(record.orderStatus);\n            }\n        }, {\n            title: '店铺编码',\n            dataIndex: 'shopCode',\n            key: 'shopCode',\n            display: false\n        }, {\n            title: '创建时间',\n            dataIndex: 'dateCreate',\n            key: 'dateCreate',\n            display: false\n        }, {\n            title: '修改时间',\n            dataIndex: 'dateUpdate',\n            key: 'dateUpdate'\n        }, {\n            title: '备注',\n            dataIndex: 'remarks',\n            key: 'remarks'\n        }, {\n            title: '操作',\n            dataIndex: 'option',\n            width: 100,\n            key: 'option',\n            render: function render(text, record) {\n                var installBtn = (0, _jsx3.default)(_antd.Popconfirm, {\n                    title: '\\u786E\\u5B9A\\u5417?',\n                    onConfirm: function onConfirm() {\n                        return _this3.handleInstall(record.id);\n                    }\n                }, void 0, _ref5);\n                var cancelBtn = (0, _jsx3.default)(_antd.Popconfirm, {\n                    title: '\\u786E\\u5B9A\\u5417?',\n                    onConfirm: function onConfirm() {\n                        return _this3.handleCancel(record.id);\n                    }\n                }, void 0, _ref6);\n\n                var option = new Array();\n                if (record.orderStatus == 0) {\n                    option.push(installBtn);\n                    option.push(cancelBtn);\n                }\n\n                return (0, _jsx3.default)('div', {}, void 0, option);\n            }\n        }];\n        /**\n         * 搜索框组件\n         */\n\n        if (this.stateAlready) {\n            return (0, _jsx3.default)('div', {}, void 0, _ref7, (0, _jsx3.default)(_antd.Form, {\n                layout: 'inline',\n                className: 'ant-advanced-search-form'\n            }, void 0, (0, _jsx3.default)(_antd.Row, {\n                gutter: 24\n            }, void 0, this.getFields()), (0, _jsx3.default)(_antd.Row, {}, void 0, (0, _jsx3.default)(_antd.Col, {\n                span: 24,\n                style: { textAlign: 'right' }\n            }, void 0, (0, _jsx3.default)(FormItem, {}, void 0, (0, _jsx3.default)(_antd.Button, {\n                type: 'primary',\n                onClick: this.handSubmit\n            }, void 0, '\\u641C\\u7D22')), (0, _jsx3.default)(FormItem, {}, void 0, (0, _jsx3.default)(_antd.Button, {\n                type: 'primary',\n                onClick: this.handleReset\n            }, void 0, '\\u6E05\\u9664')), _ref8))), (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)('div', {\n                className: 'table-content'\n            }, void 0, (0, _jsx3.default)(_antd.Table, {\n                columns: columns,\n                dataSource: this.state.list.items,\n                rowKey: 'qaId',\n                pagination: pagination,\n                onChange: this.hanldeTableChange,\n                bordered: true\n            }, 'shopCode'))));\n        }\n        return null;\n    };\n\n    return BookOrderIndex;\n}(_sad2.default);\n\nBookOrderIndex = _antd.Form.create()(BookOrderIndex);\n_reactDom2.default.render((0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)(BookOrderIndex, {})), document.querySelector(\"#content\"));\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/admin/order/BookOrderIndex.jsx\n// module id = 578\n// module chunks = 6\n\n//# sourceURL=webpack:///./pages/admin/order/BookOrderIndex.jsx?")}},[578]);