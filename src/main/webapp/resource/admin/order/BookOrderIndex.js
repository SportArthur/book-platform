webpackJsonp([6],{29:function(e,t,a){"use strict";function d(e){if(void 0===e)return"-";switch(e){case 0:return"已预定";case 1:return"已服务";case 2:return"已关闭";default:return"-"}}function r(e){if(void 0===e)return"-";switch(e){case 0:return"未授权";case 1:return"已授权";case 2:return"已取消";default:return"-"}}function o(e,t){var a="YYYY年MM月DD日";return void 0===e?"-":(void 0!==t&&(a=t),u(e).format(a))}function i(e,t){return void 0===e||void 0===t?"-":(t-e)/1e3}Object.defineProperty(t,"__esModule",{value:!0}),t.convertOrderStatus=d,t.convertAuthStatus=r,t.formatTime=o,t.convertExtTableMileage=i;var u=a(13)},578:function(e,t,a){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}var r=a(14),o=d(r),i=a(1),u=d(i),l=a(3),n=d(l),s=a(2),f=d(s),p=a(0),c=(d(p),a(9)),h=d(c),y=a(26),v=d(y);a(27);var m=a(11),b=a(22),C=a(29),S=m.Form.Item,g=(m.Modal.confirm,m.Select.Option),k=b.RJAreaCascader.resetAreaCascader,Y=m.DatePicker.RangePicker,I=(a(13),(0,o.default)(g,{},null,"全部")),w=(0,o.default)(g,{},"0","已预定"),D=(0,o.default)(g,{},"1","已服务"),M=(0,o.default)(g,{},"2","已关闭"),q=(0,o.default)("a",{},void 0,"已安装 "),x=(0,o.default)("a",{},void 0,"取消"),P=(0,o.default)("h1",{},void 0,"宽带预定-订单管理"),T=(0,o.default)(S,{},void 0,(0,o.default)(m.Button,{type:"primary"},void 0,(0,o.default)("a",{target:"_blank",href:"/admin/order/addBookOrder.html"},void 0,"新建"))),N=function(e){function t(){(0,u.default)(this,t);var a=(0,n.default)(this,e.call(this));return a.hanldeTableChange=function(e){a.state.pageSize=e.pageSize,a.state.page=e.current,a.getList()},a.handSubmit=function(e){a.props.form.validateFieldsAndScroll(function(e,t){if(!e){var d=a.props.form.getFieldsValue(),r=d.dateCreate;null!=r&&(a.state.query.dateCreateStart=r[0].format("YYYY-MM-DD"),a.state.query.dateCreateEnd=r[1].format("YYYY-MM-DD"));var o=d.bookTime;null!=o&&(a.state.query.bookTimeStart=o[0].format("YYYY-MM-DD"),a.state.query.bookTimeEnd=o[1].format("YYYY-MM-DD")),a.state.query.id=d.id,a.state.query.shopCode=d.shopCode,a.state.query.buyerName=d.buyerName,a.state.query.buyerPhone=d.buyerPhone,a.state.query.orderStatus=d.orderStatus,a.state.page=1,a.getList()}})},a.handleReset=function(){a.setState({query:{}}),k(),a.props.form.resetFields()},a.handleInstall=function(e){a.state.query.id=e,a.state.query.orderStatus=1,a.handleOrderStatus().then(function(e){e.success&&a.getList()})},a.handleCancel=function(e){a.state.query.id=e,a.state.query.orderStatus=2,a.handleOrderStatus().then(function(e){e.success&&a.getList()})},a.state={orderCustomerInfoData:{},orderInfo:{},query:{},editCustVisible:!1},a}return(0,f.default)(t,e),t.prototype.setInitProps=function(){e.prototype.setInitProps.call(this)},t.prototype.getFields=function(){var e=this.props.form.getFieldDecorator,t=[];return t.push((0,o.default)(m.Col,{span:6},"shopCode",(0,o.default)(S,{label:"店铺编码"},void 0,e("shopCode",{})((0,o.default)(m.Input,{style:{width:200},placeholder:"店铺编码"}))))),t.push((0,o.default)(m.Col,{span:6},"buyerPhone",(0,o.default)(S,{label:"客户手机"},void 0,e("buyerPhone",{})((0,o.default)(m.Input,{style:{width:200},placeholder:"客户手机"}))))),t.push((0,o.default)(m.Col,{span:6},"buyerName",(0,o.default)(S,{label:"客户姓名"},void 0,e("buyerName",{})((0,o.default)(m.Input,{style:{width:200},placeholder:"客户姓名"}))))),t.push((0,o.default)(m.Col,{span:6},"id",(0,o.default)(S,{label:"订单编号"},void 0,e("id",{})((0,o.default)(m.Input,{style:{width:200},placeholder:"订单编号"}))))),t.push((0,o.default)(m.Col,{span:6},"orderStatus",(0,o.default)(S,{label:"订单状态"},void 0,e("orderStatus",{})((0,o.default)(m.Select,{style:{width:200},placeholder:"订单状态"},void 0,I,w,D,M))))),t.push((0,o.default)(m.Col,{span:6},"dateCreate",(0,o.default)(S,{label:"创建时间"},void 0,e("dateCreate")((0,o.default)(Y,{style:{width:200},format:"YYYY-MM-DD"}))))),t.push((0,o.default)(m.Col,{span:6},"bookTime",(0,o.default)(S,{label:"预定时间"},void 0,e("bookTime")((0,o.default)(Y,{style:{width:200},format:"YYYY-MM-DD"}))))),t},t.prototype.render=function(){var e=this,t=(this.props.form.getFieldDecorator,null);this.props._this&&this.props._this,this.state.list&&(t={size:"small",total:this.state.list.totalNumber,current:this.state.list.currentIndex,pageSize:this.state.list.pageSize,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["5","10"],onShowSizeChange:function(e,t){},onChange:function(e,t){},showTotal:function(e){return"共"+e+"条"}});var a=[{title:"订单编号",dataIndex:"id",key:"id",display:!1},{title:"买家姓名",dataIndex:"buyerName",key:"buyerName",display:!1},{title:"买家电话",dataIndex:"buyerPhone",key:"buyerPhone",display:!1},{title:"预定时间",dataIndex:"bookTime",key:"bookTime",display:!1},{title:"产品名称",dataIndex:"productName",key:"productName",display:!1},{title:"产品价格",dataIndex:"productPrice",key:"productPrice",display:!1},{title:"订单状态",dataIndex:"orderStatus",key:"orderStatus",display:!1,render:function(e,t){return(0,C.convertOrderStatus)(t.orderStatus)}},{title:"店铺编码",dataIndex:"shopCode",key:"shopCode",display:!1},{title:"创建时间",dataIndex:"dateCreate",key:"dateCreate",display:!1},{title:"修改时间",dataIndex:"dateUpdate",key:"dateUpdate"},{title:"备注",dataIndex:"remarks",key:"remarks"},{title:"操作",dataIndex:"option",width:100,key:"option",render:function(t,a){var d=(0,o.default)(m.Popconfirm,{title:"确定吗?",onConfirm:function(){return e.handleInstall(a.id)}},void 0,q),r=(0,o.default)(m.Popconfirm,{title:"确定吗?",onConfirm:function(){return e.handleCancel(a.id)}},void 0,x),i=new Array;return 0==a.orderStatus&&(i.push(d),i.push(r)),(0,o.default)("div",{},void 0,i)}}];return this.stateAlready?(0,o.default)("div",{},void 0,P,(0,o.default)(m.Form,{layout:"inline",className:"ant-advanced-search-form"},void 0,(0,o.default)(m.Row,{gutter:24},void 0,this.getFields()),(0,o.default)(m.Row,{},void 0,(0,o.default)(m.Col,{span:24,style:{textAlign:"right"}},void 0,(0,o.default)(S,{},void 0,(0,o.default)(m.Button,{type:"primary",onClick:this.handSubmit},void 0,"搜索")),(0,o.default)(S,{},void 0,(0,o.default)(m.Button,{type:"primary",onClick:this.handleReset},void 0,"清除")),T))),(0,o.default)("div",{},void 0,(0,o.default)("div",{className:"table-content"},void 0,(0,o.default)(m.Table,{columns:a,dataSource:this.state.list.items,rowKey:"qaId",pagination:t,onChange:this.hanldeTableChange,bordered:!0},"shopCode")))):null},t}(v.default);N=m.Form.create()(N),h.default.render((0,o.default)("div",{},void 0,(0,o.default)(N,{})),document.querySelector("#content"))}},[578]);