webpackJsonp([4],{29:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.convertOrderStatus = convertOrderStatus;\nexports.convertAuthStatus = convertAuthStatus;\nexports.formatTime = formatTime;\nexports.convertExtTableMileage = convertExtTableMileage;\nvar moment = __webpack_require__(13);\n\n// 订单状态\nfunction convertOrderStatus(status) {\n    if (typeof status == 'undefined') {\n        return '-';\n    }\n    switch (status) {\n        case 0:\n            return '已预定';\n        case 1:\n            return '已服务';\n        case 2:\n            return '已关闭';\n        default:\n            return '-';\n    }\n}\n// 授权状态\nfunction convertAuthStatus(status) {\n    if (typeof status == 'undefined') {\n        return '-';\n    }\n    switch (status) {\n        case 0:\n            return '未授权';\n        case 1:\n            return '已授权';\n        case 2:\n            return '已取消';\n        default:\n            return '-';\n    }\n}\n\n// 时间格式化\nfunction formatTime(time, pattern) {\n    var style = 'YYYY年MM月DD日';\n    if (typeof time == 'undefined') {\n        return '-';\n    }\n    if (typeof pattern != 'undefined') {\n        style = pattern;\n    }\n    return moment(time).format(style);\n}\n\n// 延保生效里程\nfunction convertExtTableMileage(start, end) {\n    if (typeof start == 'undefined' || typeof end == 'undefined') {\n        return '-';\n    }\n    return (end - start) / 1000;\n}\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/utils/utils.js\n// module id = 29\n// module chunks = 0 1 2 3 4 5 6\n\n//# sourceURL=webpack:///./pages/utils/utils.js?")},584:function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _extends2 = __webpack_require__(4);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _jsx2 = __webpack_require__(14);\n\nvar _jsx3 = _interopRequireDefault(_jsx2);\n\nvar _classCallCheck2 = __webpack_require__(1);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(3);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(2);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(9);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _sad = __webpack_require__(26);\n\nvar _sad2 = _interopRequireDefault(_sad);\n\n__webpack_require__(27);\n\nvar _utils = __webpack_require__(29);\n\nvar _antd = __webpack_require__(11);\n\nvar _RJAntd = __webpack_require__(22);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar FormItem = _antd.Form.Item;\n\n/*\n * 这里声明要引入的组件\n */\n\nvar confirm = _antd.Modal.confirm;\nvar Option = _antd.Select.Option,\n    OptGroup = _antd.Select.OptGroup;\nvar MonthPicker = _antd.DatePicker.MonthPicker,\n    RangePicker = _antd.DatePicker.RangePicker;\n\n\nvar moment = __webpack_require__(13);\n\n/**\n * 质保报修管理\n */\n\nvar _ref = (0, _jsx3.default)(Option, {\n    value: ''\n}, void 0, '\\u5168\\u90E8');\n\nvar _ref2 = (0, _jsx3.default)(Option, {\n    value: '2'\n}, void 0, '\\u5927\\u98CE\\u8F66');\n\nvar _ref3 = (0, _jsx3.default)(Option, {\n    value: '1'\n}, void 0, '\\u8F66\\u725B');\n\nvar _ref4 = (0, _jsx3.default)(Option, {\n    value: '3'\n}, void 0, '\\u5F39\\u4E2A\\u8F66');\n\nvar _ref5 = (0, _jsx3.default)(Option, {\n    value: '4'\n}, void 0, '\\u5356\\u8F66\\u7BA1\\u5BB6');\n\nvar _ref6 = (0, _jsx3.default)(Option, {}, null, '\\u5168\\u90E8');\n\nvar _ref7 = (0, _jsx3.default)(Option, {}, \"Y\", '\\u662F');\n\nvar _ref8 = (0, _jsx3.default)(Option, {}, \"N\", '\\u5426');\n\nvar _ref9 = (0, _jsx3.default)(Option, {\n    value: ''\n}, void 0, '\\u5168\\u90E8');\n\nvar _ref10 = (0, _jsx3.default)(Option, {\n    value: '0'\n}, void 0, '\\u5904\\u7406\\u4E2D');\n\nvar _ref11 = (0, _jsx3.default)(Option, {\n    value: '1'\n}, void 0, '\\u5F85\\u5BA1\\u6838');\n\nvar _ref12 = (0, _jsx3.default)(Option, {\n    value: '2'\n}, void 0, '\\u5BA1\\u6838\\u4E0D\\u901A\\u8FC7');\n\nvar _ref13 = (0, _jsx3.default)(Option, {\n    value: '3'\n}, void 0, '\\u91D1\\u989D\\u5F85\\u5BA1\\u6838');\n\nvar _ref14 = (0, _jsx3.default)(Option, {\n    value: '4'\n}, void 0, '\\u5F85\\u7ED3\\u7B97');\n\nvar _ref15 = (0, _jsx3.default)(Option, {\n    value: '5'\n}, void 0, '\\u7ED3\\u6848');\n\nvar _ref16 = (0, _jsx3.default)(Option, {\n    value: ''\n}, void 0, '\\u5168\\u90E8');\n\nvar _ref17 = (0, _jsx3.default)(Option, {\n    value: '0'\n}, void 0, '\\u5F85\\u67E5\\u5B9A');\n\nvar _ref18 = (0, _jsx3.default)(Option, {\n    value: '1'\n}, void 0, '\\u6B63\\u5E38\\u7406\\u8D54');\n\nvar _ref19 = (0, _jsx3.default)(Option, {\n    value: '2'\n}, void 0, '\\u62D2\\u8D54');\n\nvar _ref20 = (0, _jsx3.default)(Option, {\n    value: '3'\n}, void 0, '\\u514D\\u8D54');\n\nvar _ref21 = (0, _jsx3.default)(Option, {\n    value: ''\n}, void 0, '\\u5168\\u90E8');\n\nvar _ref22 = (0, _jsx3.default)(Option, {\n    value: '1'\n}, void 0, '\\u4E2D\\u89C4\\u8F66');\n\nvar _ref23 = (0, _jsx3.default)(Option, {\n    value: '2'\n}, void 0, '\\u5E73\\u884C\\u8FDB\\u53E3\\u8F66');\n\nvar _ref24 = (0, _jsx3.default)(Option, {}, null, '\\u5168\\u90E8');\n\nvar _ref25 = (0, _jsx3.default)(Option, {}, 0, '\\u5F85\\u5F00\\u542F');\n\nvar _ref26 = (0, _jsx3.default)(Option, {}, 1, '\\u5DF2\\u5F00\\u542F');\n\nvar _ref27 = (0, _jsx3.default)(Option, {}, 2, '\\u5DF2\\u5173\\u95ED');\n\nvar _ref28 = (0, _jsx3.default)(RangePicker, {\n    format: 'YYYY-MM-DD'\n});\n\nvar _ref29 = (0, _jsx3.default)('br', {});\n\nvar _ref30 = (0, _jsx3.default)('br', {});\n\nvar _ref31 = (0, _jsx3.default)('br', {});\n\nvar _ref32 = (0, _jsx3.default)('br', {});\n\nvar _ref33 = (0, _jsx3.default)('br', {});\n\nvar _ref34 = (0, _jsx3.default)('br', {});\n\nvar _ref35 = (0, _jsx3.default)('br', {});\n\nvar _ref36 = (0, _jsx3.default)('div', {}, void 0, '-');\n\nvar _ref37 = (0, _jsx3.default)(_antd.Input, {\n    placeholder: '详细街道'\n});\n\nvar _ref38 = (0, _jsx3.default)(_antd.InputNumber, {\n    min: 0\n});\n\nvar _ref40 = (0, _jsx3.default)('h1', {}, void 0, '\\u8D28\\u4FDD-\\u62A5\\u4FEE\\u7BA1\\u7406');\n\nvar RepairOrderManage = function (_SADPage) {\n    (0, _inherits3.default)(RepairOrderManage, _SADPage);\n\n    function RepairOrderManage() {\n        (0, _classCallCheck3.default)(this, RepairOrderManage);\n\n        var _this2 = (0, _possibleConstructorReturn3.default)(this, _SADPage.call(this));\n\n        _this2.hanldeTableChange = function (pagination) {\n            _this2.state.pageSize = pagination.pageSize;\n            _this2.state.page = pagination.current;\n            _this2.state.query = _this2.props.form.getFieldsValue();\n            _this2.getByFilter().then(function (data) {\n                if (data.success) {\n                    return;\n                }\n            });\n        };\n\n        _this2.handSubmit = function () {\n            _this2.state.query = _this2.props.form.getFieldsValue();\n            _this2.getByFilter().then(function (data) {\n                if (data.success) {\n                    return;\n                }\n            });\n        };\n\n        _this2.handleReset = function () {\n            _this2.props.form.resetFields();\n            _this2.setState({ query: {} });\n        };\n\n        _this2.handleProvinceChange = function (value) {\n            _this2.state.infoAdd.province = value.label;\n            _this2.state.infoAdd.provinceCod = value.key;\n        };\n\n        _this2.handleCityChange = function (value) {\n            _this2.state.infoAdd.city = value.label;\n            _this2.state.infoAdd.cityCode = value.key;\n        };\n\n        _this2.handleCancel = function () {\n            _this2.setState({\n                visible: false\n            });\n        };\n\n        _this2.showModal = function (record) {\n            _this2.setState({\n                visible: true,\n                editingKey: record.key\n            });\n        };\n\n        _this2.handleOk = function (record) {\n            _this2.setState({\n                visible: false\n            });\n        };\n\n        _this2.handleAddCancel = function () {\n            _this2.setState({\n                addVisible: false\n            });\n        };\n\n        _this2.handleAddInfoCancel = function () {\n            _this2.setState({\n                addInfoVisible: false\n            });\n        };\n\n        _this2.handleAddOk = function (record) {\n            _this2.setState({\n                addVisible: false\n            });\n        };\n\n        _this2.handleAddInfoOk = function () {\n            var getFieldsValue = _this2.props.form.getFieldsValue;\n\n            _this2.state.infoAdd.customerName = getFieldsValue().addName;\n            _this2.state.infoAdd.customerPhone = getFieldsValue().addPhone;\n            _this2.state.infoAdd.mileage = getFieldsValue().addMileage;\n            _this2.state.infoAdd.carAddr = getFieldsValue().addCarAddr;\n            _this2.state.infoAdd.malfunctionInfo = getFieldsValue().addMalfunctionInfo;\n            _this2.props.form.validateFieldsAndScroll(function (err) {\n                if (err) {\n                    for (var i in err) {\n                        if (i == 'addName' || i == 'addPhone' || i == 'addMileage' || i == 'addProvinceCity' || i == 'addMalfunctionInfo') {\n                            return;\n                        }\n                    }\n                }\n                _this2.review().then(function () {\n                    _this2.state.addInfoVisible = false;\n                    _this2.state.addVisible = false;\n                    _RJAntd.RJAreaCascader.resetAreaCascader();\n                    _this2.props.form.resetFields();\n                    _this2.getByFilter();\n                });\n            });\n        };\n\n        _this2.onChangeCustomer = function (e) {\n            _this2.setState({\n                creator: e.target.value\n            });\n        };\n\n        _this2.openCreateWarrantyDialog = function () {\n            _this2.setState({\n                addVisible: true\n            });\n        };\n\n        _this2.openCreateWarrantyInfoDialog = function (e) {\n            _this2.state.infoAdd.qaId = e + '';\n            _this2.setState({\n                addInfoVisible: true\n            });\n        };\n\n        _this2.onChangeAddSearch = function (e) {\n            _this2.setState({\n                addSearch: e.target.value\n            });\n        };\n\n        _this2.handleAddSearch = function () {\n            _this2.queryListByVinOrPhone();\n        };\n\n        _this2.handleExport = function () {\n            var getFieldValue = _this2.props.form.getFieldValue;\n\n            var type = getFieldValue('type');\n            var vin = getFieldValue('vin');\n            var customerName = getFieldValue('customerName');\n            var buyerPhone = getFieldValue('buyerPhone');\n            var validTime = getFieldValue('validTime');\n            var start = validTime == undefined ? '' : validTime[0];\n            var end = validTime == undefined ? '' : validTime[1];\n            var status = getFieldValue('status');\n            var extInsureChanceStatus = getFieldValue('extInsureChanceStatus');\n            var repairResult = getFieldValue('repairResult');\n            var isMember = getFieldValue('isMember');\n            isMember = isMember == undefined ? '' : isMember;\n            vin = vin == undefined ? '' : vin;\n            customerName = customerName == undefined ? '' : customerName;\n            buyerPhone = buyerPhone == undefined ? '' : buyerPhone;\n            var exportUrl = _this2.baseUri + '/admin/export/WarrantyExcelExport.html?vin=' + vin + '&customerName=' + customerName + '&type=' + type + ('&buyerPhone=' + buyerPhone + '&start=' + start + '&end=' + end + '&status=' + status + '&repairResult=' + repairResult + '&isMember=' + isMember + '&extInsureChanceStatus=' + extInsureChanceStatus);\n            window.location.href = exportUrl;\n        };\n\n        _this2.handleEndAudit = function (id) {\n            _this2.setState({\n                endAuditVisible: true,\n                selectedId: id\n            });\n        };\n\n        _this2.handleEndAuditOk = function () {\n            var getFieldValue = _this2.props.form.getFieldValue;\n\n            _this2.props.form.validateFieldsAndScroll(function (errors) {\n                if (errors) {\n                    for (var i in errors) {\n                        if (i == 'settlementAmount' || i == 'uploadProofImages') {\n                            return;\n                        }\n                    }\n                }\n                _this2.state.settlementAmount = getFieldValue('settlementAmount');\n                _this2.state.uploadProofImages = getFieldValue('uploadProofImages');\n                _this2.state.remark = getFieldValue('remark');\n                if (typeof _this2.state.uploadProofImages == 'string' && _this2.state.uploadProofImages.length > 0) {\n                    _this2.state.uploadProofImages = new Array(_this2.state.uploadProofImages);\n                }\n                _this2.state.uploadProofImages = _this2.state.uploadProofImages.join(',');\n                _this2.finishReview().then(function (data) {\n                    _this2.setState({\n                        endAuditVisible: false\n                    });\n                    _this2.getList();\n                });\n            });\n        };\n\n        _this2.handleEndAuditCancel = function () {\n            _this2.setState({\n                endAuditVisible: false\n            });\n        };\n\n        _this2.provinceCityValidator = function (rule, value, callback) {\n            if (value == null || value.length < 2) {\n                callback('请输入市');\n            }\n            callback();\n        };\n\n        _this2.onChangeCover = function (images) {\n            _this2.props.form.setFieldsValue({\n                uploadProofImages: images\n            });\n        };\n\n        _this2.state = {\n            productForAdd: {},\n            query: {},\n            status: {},\n            visible: false,\n            addVisible: false,\n            addInfoVisible: false,\n            endAuditVisible: false,\n            addSearch: '',\n            editingKey: '',\n            creator: '',\n            infoAdd: {},\n            selectedId: '',\n            page: 1,\n            pageSize: 10\n        };\n        return _this2;\n    }\n\n    /**\n     * 切换分页\n     * @param pagination\n     */\n\n\n    /**\n     * 搜索查询\n     * @param e\n     */\n\n\n    /**\n     * 清除查询条件\n     */\n\n\n    // 数据筛选\n\n\n    RepairOrderManage.prototype.getFields = function getFields() {\n        var getFieldDecorator = this.props.form.getFieldDecorator;\n\n        var children = [];\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'vin', (0, _jsx3.default)(FormItem, {\n            label: 'VIN\\u7801'\n        }, void 0, getFieldDecorator('vin', {})((0, _jsx3.default)(_antd.Input, {\n            style: { width: 200 },\n            placeholder: '\\u8BF7\\u8F93\\u5165'\n        })))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'customerName', (0, _jsx3.default)(FormItem, {\n            label: '\\u59D3\\u540D'\n        }, void 0, getFieldDecorator('customerName', {})((0, _jsx3.default)(_antd.Input, {\n            style: { width: 200 },\n            placeholder: '\\u8BF7\\u8F93\\u5165'\n        })))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'buyerPhone', (0, _jsx3.default)(FormItem, {\n            label: '\\u8054\\u7CFB\\u65B9\\u5F0F'\n        }, void 0, getFieldDecorator('buyerPhone', {})((0, _jsx3.default)(_antd.Input, {\n            style: { width: 200 },\n            placeholder: '\\u8BF7\\u8F93\\u5165'\n        })))));\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'type', (0, _jsx3.default)(FormItem, {\n            label: '\\u8BA2\\u5355\\u7C7B\\u578B'\n        }, void 0, getFieldDecorator('type', {\n            initialValue: ''\n        })((0, _jsx3.default)(_antd.Select, {\n            style: { width: 200 }\n        }, void 0, _ref, _ref2, _ref3, _ref4, _ref5)))));\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'isMemeber', (0, _jsx3.default)(FormItem, {\n            label: '\\u4F1A\\u5458\\u62A5\\u4FEE'\n        }, void 0, getFieldDecorator('isMember', {})((0, _jsx3.default)(_antd.Select, {\n            style: { width: 200 },\n            placeholder: '\\u4F1A\\u5458\\u8BA2\\u5355'\n        }, void 0, _ref6, _ref7, _ref8)))));\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'status', (0, _jsx3.default)(FormItem, {\n            label: '\\u62A5\\u4FEE\\u72B6\\u6001'\n        }, void 0, getFieldDecorator('status', {\n            initialValue: ''\n        })(\n        // 报修状态 保养理赔审核流程状态 0开始理赔\",\"1待审核\",\"2审核不通过\",\"3金额待审核\",\"4,金额审核通过\",\"5结案\"\n        (0, _jsx3.default)(_antd.Select, {\n            placeholder: '\\u8BF7\\u9009\\u62E9',\n            style: { width: 200 }\n        }, void 0, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15)))));\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'repairResult', (0, _jsx3.default)(FormItem, {\n            label: '\\u7406\\u8D54\\u7ED3\\u679C'\n        }, void 0, getFieldDecorator('repairResult', {\n            initialValue: ''\n        })(\n        // 保修模式0待查定1正常理赔， 3免赔，2拒赔\n        (0, _jsx3.default)(_antd.Select, {\n            placeholder: '\\u8BF7\\u9009\\u62E9',\n            style: { width: 200 }\n        }, void 0, _ref16, _ref17, _ref18, _ref19, _ref20)))));\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'qaType', (0, _jsx3.default)(FormItem, {\n            label: '\\u8F66\\u8F86\\u7C7B\\u578B'\n        }, void 0, getFieldDecorator('qaType', {\n            initialValue: ''\n        })((0, _jsx3.default)(_antd.Select, {\n            placeholder: '\\u8BF7\\u9009\\u62E9',\n            style: { width: 200 }\n        }, void 0, _ref21, _ref22, _ref23)))));\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 6\n        }, 'extInsureChanceStatus', (0, _jsx3.default)(FormItem, {\n            label: '\\u5EF6\\u4FDD\\u72B6\\u6001'\n        }, void 0, getFieldDecorator('extInsureChanceStatus', {})((0, _jsx3.default)(_antd.Select, {\n            style: { width: 200 },\n            placeholder: '\\u5EF6\\u4FDD\\u72B6\\u6001'\n        }, void 0, _ref24, _ref25, _ref26, _ref27)))));\n\n        children.push((0, _jsx3.default)(_antd.Col, {\n            span: 8\n        }, 'validTime', (0, _jsx3.default)(FormItem, {\n            label: '\\u62A5\\u6848\\u65E5\\u671F'\n        }, void 0, getFieldDecorator('validTime')(_ref28))));\n        return children;\n    };\n\n    /**\n     *\n     * @returns {*}\n     */\n\n\n    RepairOrderManage.prototype.render = function render() {\n        var _this3 = this;\n\n        var getFieldDecorator = this.props.form.getFieldDecorator;\n\n        var pagination = null;\n        var _this = null;\n        if (this.props._this) {\n            _this = this.props._this;\n        }\n        if (this.state.list) {\n            pagination = {\n                size: 'small',\n                total: this.state.list.totalNumber,\n                current: this.state.list.currentIndex,\n                pageSize: this.state.list.pageSize,\n                showSizeChanger: true,\n                showQuickJumper: true,\n                pageSizeOptions: ['10', '20', '50'],\n                onShowSizeChange: function onShowSizeChange(current, pageSize) {},\n                onChange: function onChange(current, pageSize) {},\n                showTotal: function showTotal(total) {\n                    return '共' + total + '条';\n                }\n            };\n        }\n\n        var formItemLayout = {\n            labelCol: {\n                xs: { span: 24 },\n                sm: { span: 8 }\n            },\n            wrapperCol: {\n                xs: { span: 24 },\n                sm: { span: 16 }\n            }\n        };\n\n        var columns = [{\n            title: '报案日期',\n            dataIndex: 'dateCreate',\n            key: 'dateCreate',\n            display: false\n        }, {\n            title: '订单类型',\n            dataIndex: 'platform',\n            key: 'platform',\n            width: 100,\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, (0, _utils.convertPlatform)(record.orderModel.platform));\n            }\n        }, {\n            title: '车型',\n            dataIndex: 'carName',\n            key: 'carName',\n            width: 100,\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, record.orderModel.carName);\n            }\n        }, {\n            title: '车辆类型',\n            dataIndex: 'carType',\n            key: 'carType',\n            width: 100,\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, (0, _utils.convertCarType)(record.orderModel.qaType));\n            }\n        }, {\n            title: 'VIN码',\n            dataIndex: 'vin',\n            key: 'vin',\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, record.orderModel.vin);\n            }\n        }, {\n            title: '报修所在地',\n            dataIndex: 'province',\n            key: 'province',\n            width: 200,\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, record.province, '\\xA0', record.city, '\\xA0', record.carAddr);\n            }\n        }, {\n            title: '会员报修',\n            dataIndex: 'isMember',\n            key: 'isMember',\n            width: 100,\n            render: function render(text, record) {\n                if (record.orderModel.isMember == 'Y') {\n                    return \"是\";\n                } else {\n                    return \"否\";\n                }\n            }\n        }, {\n            title: '报案人',\n            dataIndex: 'buyer',\n            key: 'buyer',\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, record.customerName, _ref29, record.phone);\n            }\n        }, {\n            title: '故障部位',\n            dataIndex: 'breakDownsShow',\n            key: 'breakDownsShow',\n            render: function render(text, record) {\n                var breakDownsShow = record.breakDownsShow.join(',');\n                return (0, _jsx3.default)('div', {}, void 0, breakDownsShow);\n            }\n        }, {\n            title: '理赔结果',\n            dataIndex: 'repairMode',\n            key: 'repairMode',\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, (0, _utils.convertWarrantyRepairMode)(text));\n            }\n        }, {\n            title: '报修状态',\n            dataIndex: 'status',\n            key: 'status',\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, (0, _utils.convertWarrantyStatus)(text));\n            }\n        }, {\n            title: '结案时间',\n            dataIndex: 'finishTime',\n            key: 'finishTime'\n\n        }, {\n            title: '延保状态',\n            dataIndex: 'orderModel.extInsureChanceStatus',\n            key: 'orderModel.extInsureChanceStatus',\n            display: false,\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)('div', {}, void 0, (0, _utils.convertExtInsureStatus)(text)));\n            }\n        }, {\n            title: '操作',\n            dataIndex: 'option',\n            width: 100,\n            key: 'option',\n            render: function render(text, record) {\n                var showBtn = void 0;\n\n                if ((record.status == 0 || record.status == 2) && (0, _utils.containsResource)('INSURANCE_WARRANTY_SCHAME_FORMULATION') && (0, _utils.getCurrentLoginUserId)(record.handlerId)) {\n                    showBtn = (0, _jsx3.default)('a', {\n                        onClick: function onClick() {\n                            return location.href = 'claims.html?id=' + record.id;\n                        }\n                    }, void 0, '\\u7406\\u8D54');\n                } else if (record.status == 1 && (0, _utils.containsResource)('INSURANCE_WARRANTY_SCHAME_AUDIT') && record.showAuditButton) {\n                    showBtn = (0, _jsx3.default)('a', {\n                        onClick: function onClick() {\n                            return location.href = 'claimOrderCheck.html?id=' + record.id;\n                        }\n                    }, void 0, '\\u65B9\\u6848\\u5BA1\\u6838');\n                } else if (record.status == 3 && (0, _utils.containsResource)('INSURANCE_WARRANTY_MONEY_AUDIT') && record.showAuditButton) {\n                    showBtn = (0, _jsx3.default)('a', {\n                        onClick: function onClick() {\n                            return location.href = 'claimOrderCheck.html?id=' + record.id;\n                        }\n                    }, void 0, '\\u91D1\\u989D\\u5BA1\\u6838');\n                } else if (record.status == 4 && (0, _utils.containsResource)('INSURANCE_WARRANTY_SCHAME_FORMULATION')) {\n                    showBtn = (0, _jsx3.default)('a', {\n                        onClick: function onClick() {\n                            return _this3.handleEndAudit(record.id);\n                        }\n                    }, void 0, '\\u4E0A\\u4F20\\u51ED\\u8BC1');\n                }\n                var catBtn = (0, _jsx3.default)('a', {\n                    onClick: function onClick() {\n                        return location.href = 'viewWarranty.html?id=' + record.id;\n                    }\n                }, void 0, '\\u67E5\\u770B');\n\n                var option = (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)('div', {}, void 0, showBtn, ' ', catBtn));\n                return (0, _jsx3.default)('div', {}, void 0, option);\n            }\n        }];\n\n        var addColumns = [{\n            title: '客户信息',\n            dataIndex: 'buyerInfo',\n            key: 'buyerInfo',\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, record.buyerName, _ref30, record.buyerPhone);\n            }\n        }, {\n            title: '车辆信息',\n            dataIndex: 'carInfo',\n            key: 'carInfo',\n            render: function render(text, record) {\n                return (0, _jsx3.default)('div', {}, void 0, record.carName, _ref31, 'VIN\\u7801:', record.vin);\n            }\n        }, {\n            title: '质保信息',\n            dataIndex: 'insuranceInfo',\n            key: 'insuranceInfo',\n            render: function render(text, record) {\n                var schemePrice = (0, _jsx3.default)('div', {}, void 0, record.insuranceOrderSchemeInfo ? record.insuranceOrderSchemeInfo.basicPrice : '', '\\u5143');\n                if (record.insuranceOrderSchemeInfo) {\n                    return (0, _jsx3.default)('div', {}, void 0, (0, _utils.convertQaStatus)(record.qaActive), _ref32, record.insuranceOrderSchemeInfo ? record.insuranceOrderSchemeInfo.productName : '', _ref33, schemePrice);\n                }\n                return (0, _jsx3.default)('div', {}, void 0, (0, _utils.convertQaStatus)(record.qaActive), _ref34, record.insuranceOrderSchemeInfo ? record.insuranceOrderSchemeInfo.productName : '', _ref35);\n            }\n        }, {\n            title: '操作',\n            dataIndex: 'option',\n            key: 'option',\n            render: function render(text, record) {\n                if (record.qaActive == 1) {\n                    return (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)('a', {\n                        onClick: function onClick() {\n                            return _this3.openCreateWarrantyInfoDialog(record.qaId);\n                        }\n                    }, void 0, '\\u521B\\u5EFA\\u62A5\\u4FEE'));\n                } else {\n                    return _ref36;\n                }\n            }\n        }];\n\n        /**\n         * 搜索框组件\n         */\n        var createWarrantyInfo = (0, _jsx3.default)(_antd.Button, {\n            type: 'primary',\n            onClick: this.openCreateWarrantyDialog\n        }, void 0, '\\u521B\\u5EFA\\u62A5\\u4FEE\\u4FE1\\u606F');\n        var warrantyDialog = void 0;\n        var warrantyInfoDialog = void 0;\n        var uploadProofDialog = void 0;\n        var imgUploadUrl = this.baseUri + '/api/CommonApi/uploadNew.json';\n        if (this.stateAlready) {\n            warrantyDialog = (0, _jsx3.default)(_antd.Modal, {\n                title: '\\u521B\\u5EFA\\u62A5\\u4FEE',\n                width: 600,\n                visible: this.state.addVisible,\n                onOk: this.handleAddOk,\n                onCancel: this.handleAddCancel\n            }, void 0, (0, _jsx3.default)(_antd.Form, {}, void 0, _react2.default.createElement(\n                FormItem,\n                formItemLayout,\n                (0, _jsx3.default)(_antd.Input, {\n                    style: { width: 400 },\n                    onChange: this.onChangeAddSearch,\n                    placeholder: '请输入：客户电话/质保合同号/VIN码后六位，任意一种匹配质保信息'\n                }),\n                (0, _jsx3.default)(_antd.Button, {\n                    type: 'primary',\n                    onClick: this.handleAddSearch\n                }, void 0, '\\u67E5\\u8BE2')\n            ), (0, _jsx3.default)('div', {\n                className: 'table-content'\n            }, void 0, (0, _jsx3.default)(_antd.Table, {\n                columns: addColumns,\n                dataSource: this.state.addList.items,\n                size: \"small\",\n                bordered: true\n            }))));\n\n            warrantyInfoDialog = (0, _jsx3.default)(_antd.Modal, {\n                title: '报修信息',\n                width: 600,\n                visible: this.state.addInfoVisible,\n                onOk: this.handleAddInfoOk,\n                onCancel: this.handleAddInfoCancel\n            }, void 0, (0, _jsx3.default)(_antd.Form, {}, void 0, _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({ label: '报修人姓名' }, formItemLayout),\n                getFieldDecorator('addName', {\n                    rules: [{\n                        required: true, message: '请输入报修人姓名',\n                        min: 2, max: 10\n                    }]\n                })((0, _jsx3.default)(_antd.Input, {\n                    style: { width: 200 }\n                }))\n            ), _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({ label: '报修人电话' }, formItemLayout),\n                getFieldDecorator('addPhone', {\n                    rules: [{\n                        required: true, message: '请输入报修人电话',\n                        pattern: '((\\\\d{11})|^((\\\\d{7,8})|(\\\\d{4}|\\\\d{3})-(\\\\d{7,8})|(\\\\d{4}|\\\\d{3})-(\\\\d{7,8})-(\\\\d{4}|\\\\d{3}|\\\\d{2}|\\\\d{1})|(\\\\d{7,8})-(\\\\d{4}|\\\\d{3}|\\\\d{2}|\\\\d{1}))$)'\n                    }]\n                })((0, _jsx3.default)(_antd.Input, {\n                    style: { width: 200 }\n                }))\n            ), _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({ label: '车辆所在地' }, formItemLayout),\n                getFieldDecorator('addProvinceCity', {\n                    rules: [{\n                        required: true, message: '请输入省'\n                    }, {\n                        validator: this.provinceCityValidator\n                    }]\n                })((0, _jsx3.default)(_RJAntd.RJAreaCascader, {\n                    allowClear: true,\n                    cascaderLevel: 2,\n                    onProvinceChange: this.handleProvinceChange,\n                    onCityChange: this.handleCityChange\n                })),\n                getFieldDecorator('addCarAddr')(_ref37)\n            ), _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({ label: '当前表显里程' }, formItemLayout),\n                getFieldDecorator('addMileage', {\n                    rules: [{\n                        required: true, message: '请输入当前表显里程'\n                    }]\n                })(_ref38),\n                '\\u516C\\u91CC'\n            ), _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({ label: '故障现象描述' }, formItemLayout),\n                getFieldDecorator('addMalfunctionInfo', {\n                    rules: [{\n                        required: true, message: '请输入故障现象描述',\n                        max: 200\n                    }]\n                })((0, _jsx3.default)(_antd.Input, {\n                    type: 'textarea',\n                    style: { width: 300 }\n                }))\n            )));\n\n            var limitDecimals = function limitDecimals(value) {\n                var reg = /^(\\-)*(\\d+)\\.(\\d\\d).*$/;\n                // console.log(value);\n                if (typeof value === 'string') {\n                    return !isNaN(Number(value)) ? value.replace(reg, '$1$2.$3') : '';\n                } else if (typeof value === 'number') {\n                    return !isNaN(value) ? String(value).replace(reg, '$1$2.$3') : '';\n                } else {\n                    return '';\n                }\n            };\n\n            uploadProofDialog = (0, _jsx3.default)(_antd.Modal, {\n                title: '上传凭证',\n                width: 600,\n                visible: this.state.endAuditVisible,\n                onOk: this.handleEndAuditOk,\n                onCancel: this.handleEndAuditCancel\n            }, void 0, (0, _jsx3.default)(_antd.Form, {}, void 0, _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({}, formItemLayout, { label: '结算金额' }),\n                getFieldDecorator('settlementAmount', {\n                    rules: [{\n                        required: true, message: '请输入结算金额'\n                    }]\n                })((0, _jsx3.default)(_antd.InputNumber, {\n                    min: 0,\n                    formatter: limitDecimals,\n                    parser: limitDecimals\n                })),\n                '\\u5143'\n            ), _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({}, formItemLayout, { label: '上传凭证' }),\n                getFieldDecorator('uploadProofImages', {\n                    rules: [{\n                        required: true, message: '请上传凭证图片'\n                    }]\n                })((0, _jsx3.default)(_RJAntd.RJImgUploader, {\n                    action: imgUploadUrl,\n                    beforeUpload: this.beforeUpload,\n                    onRemove: function onRemove(_ref39) {\n                        var file = _ref39.file,\n                            updatedDefaultValues = _ref39.updatedDefaultValues;\n\n                        _this3.setState({ defaultValue: updatedDefaultValues });\n                    },\n                    onChange: function onChange(a) {\n                        return _this3.onChangeCover(a);\n                    }\n                }, void 0))\n            ), _react2.default.createElement(\n                FormItem,\n                (0, _extends3.default)({}, formItemLayout, { label: '备注' }),\n                getFieldDecorator('remark', {\n                    rules: [{\n                        message: '请输入备注',\n                        max: 200\n                    }]\n                })((0, _jsx3.default)(_antd.Input, {\n                    type: 'textarea',\n                    style: { width: 300 }\n                }))\n            )));\n        }\n\n        if (this.stateAlready) {\n            return (0, _jsx3.default)('div', {}, void 0, _ref40, (0, _jsx3.default)(_antd.Form, {\n                layout: 'inline',\n                className: 'ant-advanced-search-form'\n            }, void 0, (0, _jsx3.default)(_antd.Row, {\n                gutter: 24\n            }, void 0, this.getFields()), (0, _jsx3.default)(_antd.Row, {}, void 0, (0, _jsx3.default)(_antd.Col, {\n                span: 24,\n                style: { textAlign: 'right' }\n            }, void 0, (0, _jsx3.default)(FormItem, {}, void 0, (0, _jsx3.default)(_antd.Button, {\n                type: 'primary',\n                onClick: this.handSubmit\n            }, void 0, '\\u641C\\u7D22')), (0, _jsx3.default)(FormItem, {}, void 0, (0, _jsx3.default)(_antd.Button, {\n                type: 'primary',\n                onClick: this.handleReset\n            }, void 0, '\\u6E05\\u9664')), (0, _jsx3.default)(FormItem, {}, void 0, (0, _utils.containsResource)('INSURANCE_WARRANTY_CREATE') ? createWarrantyInfo : ''), (0, _jsx3.default)(FormItem, {}, void 0, (0, _jsx3.default)(_antd.Button, {\n                type: 'primary',\n                onClick: this.handleExport\n            }, void 0, '\\u5BFC\\u51FAExcel'))))), (0, _jsx3.default)('div', {}, void 0, warrantyDialog, warrantyInfoDialog, uploadProofDialog), (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)('div', {\n                className: 'table-content'\n            }, void 0, (0, _jsx3.default)(_antd.Table, {\n                columns: columns,\n                dataSource: this.state.list.items,\n                rowKey: 'productId',\n                pagination: pagination,\n                onChange: this.hanldeTableChange,\n                bordered: true\n            }))));\n        }\n        return null;\n    };\n\n    return RepairOrderManage;\n}(_sad2.default);\n\nRepairOrderManage = _antd.Form.create()(RepairOrderManage);\n_reactDom2.default.render((0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)(RepairOrderManage, {})), document.querySelector(\"#content\"));\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/admin/warranty/repairOrderManage.jsx\n// module id = 584\n// module chunks = 4\n\n//# sourceURL=webpack:///./pages/admin/warranty/repairOrderManage.jsx?")}},[584]);